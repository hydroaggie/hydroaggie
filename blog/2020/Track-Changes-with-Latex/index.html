<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Track Changes in LaTex | Computational and Integrated Hydrology Group</title> <meta name="author" content="Pin Shuai"> <meta name="description" content="Tutorial on how to create a tracked-changes PDF in LaTex"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/icon.png?e9e97d5d8228b67d85789ea82520382a"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://hydroaggie.github.io/blog/2020/Track-Changes-with-Latex/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Computational and Integrated Hydrology Group</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/team.html">Members</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Submenus</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/prospective_students/">Prospective Students</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/group_handbook/">Group Handbook</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Track Changes in LaTex</h1> <p class="post-meta">March 24, 2020</p> <p class="post-tags"> <a href="/blog/2020"> <i class="fas fa-calendar fa-sm"></i> 2020 </a>   ·   <a href="/blog/tag/productivity"> <i class="fas fa-hashtag fa-sm"></i> productivity</a>     ·   <a href="/blog/category/software"> <i class="fas fa-tag fa-sm"></i> software</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Overleaf has become a popular online latex editor for researchers. One of the advanges of Overleaf is that it can track all the changes like Word. It can also integrate with Git so that you can version control using Github. However, the drawback of using latex is that there is no convienient way to generate a tracked-changes version, especially for manuscript that contains images and references.</p> <p>Here, I will show a workaround to export tracked-changes version uisng <code class="language-plaintext highlighter-rouge">latexdiff</code> and <code class="language-plaintext highlighter-rouge">git-latexdiff</code>.</p> <h2 id="pre-requirements">Pre-requirements</h2> <ul> <li>Download <code class="language-plaintext highlighter-rouge">MacTeX</code> <a href="https://tug.org/mactex/" rel="external nofollow noopener" target="_blank">here</a>, and follow the instructions to install. The file size is ~5 GB.</li> </ul> <h2 id="diff-tex-using-git-latexdiffrecommended-for-git">Diff tex using <code class="language-plaintext highlighter-rouge">git-latexdiff</code>(recommended for <code class="language-plaintext highlighter-rouge">Git</code>)</h2> <p>Note source code on <a href="https://gitlab.com/git-latexdiff/git-latexdiff" rel="external nofollow noopener" target="_blank">Gitlab</a>, and this quick <a href="http://www.deanbodenham.com/learn/git-and-latexdiff.html" rel="external nofollow noopener" target="_blank">tutorial</a></p> <h3 id="install-git-latexdiff">install <code class="language-plaintext highlighter-rouge">git-latexdiff</code> </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://gitlab.com/git-latexdiff/git-latexdiff.git
<span class="nv">$ </span><span class="nb">cd </span>git-latexdiff
<span class="nv">$ </span><span class="nb">sudo </span>make <span class="nb">install</span>

<span class="c"># if installation failed, do manual installation to move `git-latexdiff` into one of the PATH folder</span>
<span class="nv">$ </span><span class="nb">cp </span>git-latexdiff /usr/local/bin/.
</code></pre></div></div> <h3 id="diff-command">diff command</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># diff the changes in the previous commit </span>
git latexdiff <span class="nt">--main</span> manuscript.tex HEAD~1
<span class="c"># diff changes 2 commits back</span>
git latexdiff <span class="nt">--main</span> manuscript.tex HEAD~2
<span class="c"># or use commit-hash</span>
git latexdiff <span class="nt">--main</span> manuscript.tex c0b1428d8dc81dbe12bf28b17e83382df31c4200 HEAD
</code></pre></div></div> <p><strong>note</strong>: If the citations are not rendered correctly, see the second approach below using <code class="language-plaintext highlighter-rouge">latexdiff</code>.</p> <h2 id="diff-the-tex-files-using-latexdiff-more-stable">Diff the tex files using <code class="language-plaintext highlighter-rouge">latexdiff</code> (more stable)</h2> <ul> <li>Save the different versions of tex files to local computer</li> <li>Using <code class="language-plaintext highlighter-rouge">latexdiff</code> and <code class="language-plaintext highlighter-rouge">pdflatex</code> on the command line</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># generate diff version</span>
latexdiff old.tex new.tex <span class="o">&gt;</span> diff.tex
<span class="c"># convert to pdf</span>
pdflatex diff.tex
<span class="c"># generate .bbl file</span>
bibtex diff <span class="c"># no file extension name</span>
<span class="c"># rerun pdflatex twice to render figure ref and bibliography correctly</span>
pdflatex diff.tex
pdflatex diff.tex 
</code></pre></div></div> <p>Note:</p> <ol> <li>Useful commands if the process paused: use <code class="language-plaintext highlighter-rouge">R</code> to run without stopping, <code class="language-plaintext highlighter-rouge">Q</code> to run quietly</li> <li>If exernal file such as <code class="language-plaintext highlighter-rouge">SI.tex</code> exists, need to run <code class="language-plaintext highlighter-rouge">pdflatex</code> first on these files.</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pdflatex SI.tex
<span class="nv">$ </span>pdflatex SI.tex
</code></pre></div></div> <ol> <li> <code class="language-plaintext highlighter-rouge">latexdiff</code> has options for the visual markup styles such as <code class="language-plaintext highlighter-rouge">UNDERLINE, CTRADITIONAL, TRADITIONAL, CFONT, FONTSTRIKE, CHANGEBAR</code>. (see <a href="http://ctan.math.illinois.edu/support/latexdiff/doc/latexdiff-man.pdf" rel="external nofollow noopener" target="_blank">documentation</a> and <a href="https://www.overleaf.com/learn/latex/Articles/Using_Latexdiff_For_Marking_Changes_To_Tex_Documents" rel="external nofollow noopener" target="_blank">example</a>)</li> </ol> <pre><code class="language-Bash">latexdiff -t CTRADITIONAL old.tex new.tex &gt; diff.tex
</code></pre> <ol> <li>To prevent prompt on errors, use the following flag. Also you can type <code class="language-plaintext highlighter-rouge">Q</code> to quit the interactive session.</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdflatex <span class="nt">-interaction</span><span class="o">=</span>nonstopmode diff.tex
</code></pre></div></div> <h2 id="caveats">caveats</h2> <ul> <li> <code class="language-plaintext highlighter-rouge">git latexdiff</code> sometimes could not render the citation correctly, need to switch to <code class="language-plaintext highlighter-rouge">latexdiff</code> </li> <li> <code class="language-plaintext highlighter-rouge">latexdiff</code> does not recognise the changes in figure if figure name is the same. Also it does not show the old vs new figure even if you have changed the name of the figure. It will just show the new figure in the <code class="language-plaintext highlighter-rouge">diff.tex</code>.</li> <li>If you use bibtex, it is recommended to include the <code class="language-plaintext highlighter-rouge">.bbl</code> file in the version management.</li> </ul> <h3 id="bibliograph-is-not-rendered-correctly">bibliograph is not rendered correctly?</h3> <p>In this case, make sure you are using <code class="language-plaintext highlighter-rouge">.bbl</code> file instead of <code class="language-plaintext highlighter-rouge">.bib</code> file. To generate <code class="language-plaintext highlighter-rouge">.bbl</code> file, do the following:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># run pdflatex to generate .aux and .pdf file</span>
<span class="nv">$ </span>pdflatex manuscript <span class="c"># e.g, manuscript is the main .tex file</span>
<span class="nv">$ </span>bibtex manuscript <span class="c"># Do not add ".bib" extension</span>
<span class="nv">$ </span>pdflatex manuscript <span class="c">#</span>
<span class="nv">$ </span>pdflatex manuscript <span class="c"># yes, run twice to get the bib reference correctly rendered</span>
</code></pre></div></div> <p>For <code class="language-plaintext highlighter-rouge">git latexdiff</code>, try include <code class="language-plaintext highlighter-rouge">.bbl</code> file in git push? Otherwise the citation won’t render.</p> <h3 id="having-external-tex-file-such-as-supportinginformationtex">having external .tex file such as SupportingInformation.tex?</h3> <p>using <code class="language-plaintext highlighter-rouge">pdflatex</code> twice to make sure figures can be referenced correctly.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pdflatex SupportingInformation
<span class="nv">$ </span>pdflatex SupportingInformation

<span class="c"># make sure to run pdflatex on main tex again</span>
<span class="nv">$ </span>pdflatex manuscript
</code></pre></div></div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/A-Zotero-to-Obsidian-Workflow/">A Zotero to Obsidian Workflow</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Publish-Python-Package-on-Pypi/">Publish A Python Package on Pypi</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/Create-Jupyter-Book/">A Tutorial on How to Create a Jupyter Book</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/Compile-ATS-v0.88-on-NERSC/">Install ATS on NERSC (Deprecated)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Create-Your-Personal-Website-Using-Github-Pages/">Create Your Academic Website using GitHub Pages</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"hydroaggie/hydroaggie.github.io","data-repo-id":"R_kgDOKKsF-Q","data-category":"General","data-category-id":"DIC_kwDOKKsF-c4CZL3G","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Pin Shuai. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: February 27, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-3DFB3Y5C0S"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3DFB3Y5C0S");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>